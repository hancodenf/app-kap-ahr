import{j as e,u as z,r,H as _,L as F}from"./app-BbZP3b29.js";import{T as v,I as w}from"./InputError-CMc1SkO2.js";import{I as y}from"./InputLabel-B8qLsNSc.js";import{P as E}from"./PrimaryButton-C27RiGVO.js";import{G as H}from"./GuestLayout-DW2fK3NA.js";import"./ApplicationLogo-Daz3bnXP.js";function I({className:l="",...c}){return e.jsx("input",{...c,type:"checkbox",className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500 "+l})}function q({status:l,canResetPassword:c,demoUsers:a}){const{data:d,setData:n,post:N,processing:k,errors:f,reset:C}=z({email:"",password:"",remember:!1}),[x,L]=r.useState(!1),[m,S]=r.useState(!1),[h,A]=r.useState(!1),[p,M]=r.useState(!1),[u,B]=r.useState(!1),[g,b]=r.useState(0),[W,j]=r.useState(!1),$=s=>{s.preventDefault(),N(route("login"),{onFinish:()=>C("password"),onError:()=>{const t=g+1;b(t),t>=2&&j(!0)},onSuccess:()=>{b(0),j(!1)}})},o=(s,t)=>{n({email:s,password:t,remember:!1})},i=(s,t)=>e.jsxs("div",{className:"flex items-start gap-2",children:[s.profile_photo?e.jsx("img",{src:`/storage/${s.profile_photo}`,alt:s.name,className:`w-7 h-7 rounded-full object-cover border-2 border-${t}-300 flex-shrink-0`}):e.jsx("div",{className:`w-7 h-7 rounded-full bg-${t}-200 flex items-center justify-center text-${t}-700 font-bold text-[10px] flex-shrink-0`,children:s.initials}),e.jsxs("div",{className:"text-left flex-1 min-w-0",children:[e.jsx("div",{className:"font-semibold truncate text-xs",children:s.name}),e.jsx("div",{className:"text-[10px] opacity-75 truncate",children:s.email}),s.position&&e.jsx("div",{className:`text-[9px] bg-${t}-100 px-1 py-0.5 rounded mt-0.5 inline-block`,children:s.position}),s.client_name&&e.jsx("div",{className:`text-[9px] bg-${t}-100 px-1 py-0.5 rounded mt-0.5 inline-block`,children:s.client_name})]})]});return e.jsxs(H,{children:[e.jsx(_,{title:"Log in"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"lg:pr-8 lg:border-r border-gray-200",children:[W&&e.jsx("div",{className:"mb-4 bg-yellow-50 border border-yellow-400 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"w-6 h-6 text-yellow-600 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-yellow-800",children:"Security Alert"}),e.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:["You have ",3-g," login attempt(s) remaining. After 3 failed attempts, your account will be temporarily suspended."]})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Welcome Back!"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Sign in to your account to continue"})]}),l&&e.jsx("div",{className:"mb-4 text-sm font-medium text-green-600",children:l}),e.jsxs("form",{onSubmit:$,children:[e.jsxs("div",{children:[e.jsx(y,{htmlFor:"email",value:"Email"}),e.jsx(v,{id:"email",type:"email",name:"email",value:d.email,className:"mt-1 block w-full",autoComplete:"username",isFocused:!0,onChange:s=>n("email",s.target.value)}),e.jsx(w,{message:f.email,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(y,{htmlFor:"password",value:"Password"}),e.jsx(v,{id:"password",type:"password",name:"password",value:d.password,className:"mt-1 block w-full",autoComplete:"current-password",onChange:s=>n("password",s.target.value)}),e.jsx(w,{message:f.password,className:"mt-2"})]}),e.jsx("div",{className:"mt-4 block",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx(I,{name:"remember",checked:d.remember,onChange:s=>n("remember",s.target.checked||!1)}),e.jsx("span",{className:"ms-2 text-sm text-gray-600",children:"Remember me"})]})}),e.jsx("div",{className:"mt-6",children:e.jsx(E,{className:"w-full justify-center",disabled:k,children:"Log in"})}),e.jsx("div",{className:"mt-4 text-center",children:c&&e.jsx(F,{href:route("password.request"),className:"text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none",children:"Forgot your password?"})})]}),e.jsx("div",{className:"mt-6 text-center lg:hidden",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["ðŸ’¡ Demo password: ",e.jsx("span",{className:"font-mono font-bold text-gray-700",children:"password"})]})})]}),e.jsxs("div",{className:"lg:pl-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Quick Demo Access"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Click any account below to autofill login credentials"})]}),e.jsxs("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:[a?.admin&&a.admin.length>0&&e.jsxs("div",{className:"bg-red-50 rounded-lg border border-red-200 overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>L(!x),className:"w-full flex items-center justify-between px-4 py-3 hover:bg-red-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-semibold text-red-700",children:"Admin"}),e.jsxs("p",{className:"text-xs text-red-600",children:[a.admin.length," users"]})]})]}),e.jsx("svg",{className:`w-5 h-5 text-red-600 transition-transform ${x?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),x&&e.jsx("div",{className:"px-3 pb-3 space-y-2",children:a.admin.map((s,t)=>e.jsx("button",{type:"button",onClick:()=>o(s.email,"password"),className:"w-full flex items-start gap-2 px-2 py-1.5 bg-white border border-red-300 rounded-lg text-xs font-medium text-red-700 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-red-500 transition-all",children:i(s,"red")},t))})]}),a?.company&&e.jsxs("div",{className:"bg-blue-50 rounded-lg border border-blue-200 overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>S(!m),className:"w-full flex items-center justify-between px-4 py-3 hover:bg-blue-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-semibold text-blue-700",children:"Company"}),e.jsxs("p",{className:"text-xs text-blue-600",children:[a.company.tenaga_ahli.length+a.company.staff.length," users"]})]})]}),e.jsx("svg",{className:`w-5 h-5 text-blue-600 transition-transform ${m?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m&&e.jsxs("div",{className:"px-3 pb-3 space-y-2",children:[a.company.tenaga_ahli.length>0&&e.jsxs("div",{className:"bg-purple-50 rounded-lg border border-purple-200 overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>A(!h),className:"w-full flex items-center justify-between px-3 py-2 hover:bg-purple-100 transition-colors",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-xs font-semibold text-purple-700",children:"Tenaga Ahli"}),e.jsxs("p",{className:"text-[10px] text-purple-600",children:[a.company.tenaga_ahli.length," users"]})]}),e.jsx("svg",{className:`w-4 h-4 text-purple-600 transition-transform ${h?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h&&e.jsx("div",{className:"px-2 pb-2 space-y-1.5 max-h-[200px] overflow-y-auto scrollbar-thin scrollbar-thumb-purple-300 scrollbar-track-purple-100",children:a.company.tenaga_ahli.map((s,t)=>e.jsx("button",{type:"button",onClick:()=>o(s.email,"password"),className:"w-full px-2 py-1.5 bg-white border border-purple-300 rounded-lg text-xs font-medium text-purple-700 hover:bg-purple-50 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all",children:i(s,"purple")},t))})]}),a.company.staff.length>0&&e.jsxs("div",{className:"bg-cyan-50 rounded-lg border border-cyan-200 overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>M(!p),className:"w-full flex items-center justify-between px-3 py-2 hover:bg-cyan-100 transition-colors",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-xs font-semibold text-cyan-700",children:"Staff"}),e.jsxs("p",{className:"text-[10px] text-cyan-600",children:[a.company.staff.length," users"]})]}),e.jsx("svg",{className:`w-4 h-4 text-cyan-600 transition-transform ${p?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),p&&e.jsx("div",{className:"px-2 pb-2 space-y-1.5 max-h-[200px] overflow-y-auto scrollbar-thin scrollbar-thumb-cyan-300 scrollbar-track-cyan-100",children:a.company.staff.map((s,t)=>e.jsx("button",{type:"button",onClick:()=>o(s.email,"password"),className:"w-full px-2 py-1.5 bg-white border border-cyan-300 rounded-lg text-xs font-medium text-cyan-700 hover:bg-cyan-50 focus:outline-none focus:ring-2 focus:ring-cyan-500 transition-all",children:i(s,"cyan")},t))})]})]})]}),a?.client&&a.client.length>0&&e.jsxs("div",{className:"bg-green-50 rounded-lg border border-green-200 overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>B(!u),className:"w-full flex items-center justify-between px-4 py-3 hover:bg-green-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-semibold text-green-700",children:"Client"}),e.jsxs("p",{className:"text-xs text-green-600",children:[a.client.length," users"]})]})]}),e.jsx("svg",{className:`w-5 h-5 text-green-600 transition-transform ${u?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&e.jsx("div",{className:"px-3 pb-3 space-y-2",children:a.client.map((s,t)=>e.jsx("button",{type:"button",onClick:()=>o(s.email,"password"),className:"w-full px-2 py-1.5 bg-white border border-green-300 rounded-lg text-xs font-medium text-green-700 hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-green-500 transition-all",children:i(s,"green")},t))})]})]}),e.jsx("div",{className:"mt-4 text-center hidden lg:block",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["ðŸ’¡ All accounts use password: ",e.jsx("span",{className:"font-mono font-bold text-gray-700",children:"password"})]})})]})]})]})}export{q as default};
