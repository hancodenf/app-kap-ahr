import{r as n,u as T,j as e,H as kt,L as wt,b as j,c as we}from"./app-ClcqIkg_.js";import{A as St}from"./AuthenticatedLayout-Brdiehg9.js";import{C as ne}from"./ConfirmDialog-BxMyHJ_q.js";import{S as V}from"./SearchableSelect-DkmTMyc0.js";import{u as Ct,a as Se,D as Tt,c as _t,S as Ce,v as Te,b as Mt,s as Dt,K as Et,P as Lt,d as _e,e as Me,C as De}from"./sortable.esm-BqP7ZRN_.js";import"./ApplicationLogo-Pq6XhuR0.js";import"./transition-BipoX0Bg.js";import"./dialog-CEOT2S1J.js";import"./index-f1MmAGuD.js";function zt({step:c,children:d,isCollapsed:w,onToggleCollapse:N}){const{attributes:A,listeners:S,setNodeRef:m,transform:C,transition:_,isDragging:M}=Me({id:`step-${c.id}`}),h={transform:De.Transform.toString(C),transition:_,opacity:M?.5:1};return e.jsx("div",{ref:m,style:h,className:"bg-white shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6 pb-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{...A,...S,className:"cursor-grab active:cursor-grabbing mr-3 p-1 hover:bg-gray-100 rounded",style:{touchAction:"none"},children:e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 16a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"})})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-primary-700 mb-2 flex items-center",children:["ðŸ”¹ ",c.name,e.jsx("button",{onClick:N,className:"ml-3 p-1 hover:bg-gray-200 rounded transition-colors",title:w?"Expand substeps":"Collapse substeps",children:e.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform ${w?"rotate-0":"rotate-90"}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"h-1 w-20 bg-primary-600 rounded"})]})]}),e.jsx("div",{className:"ml-8 md:ml-0",children:d})]})})})}function At({task:c,onEdit:d,onDelete:w}){const{attributes:N,listeners:A,setNodeRef:S,transform:m,transition:C,isDragging:_}=Me({id:`substep-${c.id}`}),M={transform:De.Transform.toString(m),transition:C,opacity:_?.5:1};return e.jsx("div",{ref:S,style:M,className:"w-full bg-gray-50 border-b border-gray-200 last:border-b-0",children:e.jsxs("div",{className:"px-6 py-4 flex items-center hover:bg-gray-100 transition-colors",children:[e.jsx("div",{...N,...A,className:"cursor-grab active:cursor-grabbing p-2 hover:bg-gray-200 rounded mr-4 flex-shrink-0",style:{touchAction:"none"},onClick:h=>h.stopPropagation(),children:e.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 16a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-base truncate",children:c.name}),(!!c.is_required||!!c.client_interact||!!c.multiple_files||c.task_workers&&c.task_workers.length>0)&&e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[!!c.is_required&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800 border border-red-200",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Required"]}),!!c.client_interact&&e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Client Interact"}),!!c.multiple_files&&e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"Multiple Files"}),c.task_workers&&c.task_workers.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:c.task_workers.map((h,H)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-800",title:`${h.worker_email} - ${h.worker_role}`,children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),h.worker_name]},H))})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4 flex-shrink-0",children:[e.jsxs("button",{onClick:h=>{h.stopPropagation(),d(c)},className:"inline-flex items-center justify-center bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-2 rounded-md text-sm font-medium transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),e.jsxs("button",{onClick:h=>{h.stopPropagation(),w(c.id)},className:"inline-flex items-center justify-center bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-md text-sm font-medium transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]})})}function Ot({auth:c,bundle:d,workingSteps:w,teamMembers:N,availableUsers:A,clients:S}){const[m,C]=n.useState(w||[]),[_,M]=n.useState(null),[h,H]=n.useState(null),[Ee,W]=n.useState(!1),[Le,B]=n.useState(!1),[ze,G]=n.useState(!1),[Ae,q]=n.useState(!1),[Ie,J]=n.useState(!1),[Pe,F]=n.useState(!1),[Re,$]=n.useState(!1),[It,ie]=n.useState(null),[Q,X]=n.useState(null),[Z,le]=n.useState(null),[U,de]=n.useState(null),[ee,oe]=n.useState(!1),[D,ce]=n.useState(new Set),[O,te]=n.useState(null),[He,me]=n.useState(!1),[We,xe]=n.useState(!1),[Be,ue]=n.useState(!1),[k,se]=n.useState(null),qe=Ct(Se(Lt,{activationConstraint:{distance:8}}),Se(Et,{coordinateGetter:Dt}));n.useEffect(()=>{let t;const r=l=>{const u=window.innerHeight,v=l,z=u-l;v<100?window.scrollBy(0,-10):z<100&&window.scrollBy(0,10)},a=l=>{if(!ee)return;t&&clearInterval(t);const x=100,g=l.clientY,u=window.innerHeight-l.clientY;(g<x||u<x)&&(t=setInterval(()=>{r(l.clientY)},16))},i=()=>{t&&clearInterval(t)};return ee&&(document.addEventListener("pointermove",a),document.addEventListener("pointerup",i)),()=>{t&&clearInterval(t),document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",i)}},[ee]),n.useEffect(()=>{C(w||[])},[w]);const{data:Fe,setData:Y,post:$e,reset:ae}=T({name:"",bundle_id:d.id}),{data:pe,setData:K,post:Ue,reset:Oe}=T({name:"",working_step_id:0,is_required:!1}),{data:Ye,setData:he,put:Ke,processing:ge,errors:fe,reset:je}=T({name:""}),{data:b,setData:I,put:Ve,processing:be,errors:E,reset:ve}=T({name:"",client_id:0,year:new Date().getFullYear(),status:"closed"}),Ge=n.useMemo(()=>{const t=new Date().getFullYear(),a=(S.find(i=>i.id===b.client_id)?.used_years||[]).map(i=>Number(i));return Array.from({length:t-1999},(i,l)=>{const x=t-l;return{value:x,label:x.toString(),isDisabled:a.includes(x)}})},[b.client_id,S]),{data:P,setData:L,put:Je,reset:Qe}=T({name:"",client_interact:!1,multiple_files:!1,is_required:!1,worker_ids:[]}),{data:ye,setData:re,post:Xe,reset:Ze}=T({project_id:d.id,user_id:0,role:"member"}),{data:et,setData:Ne,put:tt,reset:st}=T({role:"member"}),at=t=>{t.preventDefault(),$e(route("admin.projects.working-steps.store"),{onSuccess:()=>{W(!1),ae(),Y("name",""),j.reload()}})},rt=t=>{t.preventDefault(),Ue(route("admin.projects.tasks.store"),{onSuccess:r=>{B(!1),Oe(),ie(null),K({name:"",working_step_id:0}),j.reload()},onError:r=>{console.error("Error adding task:",r)}})},nt=t=>{se({id:t.id,name:t.name}),me(!0)},it=()=>{k&&j.delete(route("admin.projects.working-steps.destroy",k.id))},lt=t=>{se({id:t.id,name:t.name}),xe(!0)},dt=()=>{k&&j.delete(route("admin.projects.tasks.destroy",k.id))},ot=t=>{le(t);const r=(t.task_workers?.map(a=>a.project_team_id)||[]).filter(a=>N.some(i=>i.id===a));L({name:t.name,client_interact:t.client_interact,multiple_files:t.multiple_files,is_required:t.is_required||!1,worker_ids:r}),q(!0)},ct=t=>{X({id:t.id,name:t.name}),he({name:t.name}),G(!0)},mt=t=>{t.preventDefault(),Q&&Ke(route("admin.projects.working-steps.update",Q.id),{onSuccess:()=>{G(!1),X(null),je(),j.reload()}})},xt=()=>{I({name:d.name,client_id:d.client_id||0,year:d.year||new Date().getFullYear(),status:d.status||"closed"}),J(!0)},ut=t=>{t.preventDefault(),Ve(route("admin.projects.bundles.update",d.id),{onSuccess:()=>{J(!1),ve(),j.reload()}})},pt=t=>{t.preventDefault(),Z&&Je(route("admin.projects.tasks.update",Z.id),{onSuccess:()=>{q(!1),le(null),Qe(),j.reload()}})},ht=t=>{t.preventDefault(),Xe(route("admin.projects.team-members.store"),{onSuccess:()=>{F(!1),Ze(),re({project_id:d.id,user_id:0,role:"member"}),j.reload()}})},gt=t=>{de(t),Ne({role:t.role}),$(!0)},ft=t=>{t.preventDefault(),U&&tt(route("admin.projects.team-members.update",U.id),{onSuccess:()=>{$(!1),de(null),st(),j.reload()}})},jt=t=>{se({id:t.id,name:t.user_name}),ue(!0)},bt=()=>{k&&j.delete(route("admin.projects.team-members.destroy",k.id))},ke=t=>{ce(r=>{const a=new Set(r);return a.has(t)?a.delete(t):a.add(t),a})};n.useEffect(()=>{if(O&&D.has(O)){const t=setTimeout(()=>{ce(r=>{const a=new Set(r);return a.delete(O),a})},800);return()=>clearTimeout(t)}},[O,D]);const vt=t=>{const{active:r}=t;if(oe(!0),String(r.id).startsWith("substep-")){const a=Number(String(r.id).replace("substep-",""));for(const i of m){const l=i.tasks?.find(x=>x.id===a);if(l){H(l);return}}}if(String(r.id).startsWith("step-")){const a=Number(String(r.id).replace("step-","")),i=m.find(l=>l.id===a);if(i){M(i);return}}},yt=t=>{const{active:r,over:a}=t;if(M(null),H(null),oe(!1),te(null),!!a){if(String(r.id).startsWith("step-")){const i=Number(String(r.id).replace("step-","")),l=Number(String(a.id).replace("step-","")),x=m.findIndex(u=>u.id===i),g=m.findIndex(u=>u.id===l);if(x!==g){const v=_e(m,x,g).map((s,o)=>({...s,order:o+1}));C(v);const z=v.map(s=>({id:s.id,order:s.order}));we.post(route("admin.projects.working-steps.reorder"),{steps:z}).then(s=>{}).catch(s=>{console.error("Error reordering steps:",s),alert("Failed to save step order. Please try again."),j.reload()})}return}if(String(r.id).startsWith("substep-")){const i=Number(String(r.id).replace("substep-",""));let l=0,x=null;for(const s of m){const o=s.tasks?.find(f=>f.id===i);if(o){x=o,l=s.id;break}}if(!x)return;let g=l,u=null;if(String(a.id).startsWith("step-"))g=Number(String(a.id).replace("step-",""));else if(String(a.id).startsWith("substep-")){u=Number(String(a.id).replace("substep-",""));for(const s of m)if(s.tasks?.some(o=>o.id===u)){g=s.id;break}}const v=[...m];if(l===g&&u){const s=v.find(o=>o.id===l);if(s?.tasks){const o=s.tasks.findIndex(p=>p.id===i),f=s.tasks.findIndex(p=>p.id===u);o!==f&&o>-1&&f>-1&&(s.tasks=_e(s.tasks,o,f),s.tasks=s.tasks.map((p,y)=>({...p,order:y+1})))}}else if(l!==g){const s=v.find(o=>o.id===l);if(s?.tasks){const o=s.tasks.findIndex(f=>f.id===i);if(o>-1){const[f]=s.tasks.splice(o,1),p=v.find(y=>y.id===g);if(p){if(p.tasks||(p.tasks=[]),f.working_step_id=g,u){const y=p.tasks.findIndex(R=>R.id===u);y>-1?p.tasks.splice(y,0,f):p.tasks.push(f)}else p.tasks.push(f);p.tasks=p.tasks.map((y,R)=>({...y,order:R+1})),s.tasks=s.tasks.map((y,R)=>({...y,order:R+1}))}}}}C(v);const z=[];v.forEach(s=>{s.tasks&&s.tasks.forEach(o=>{z.push({id:o.id,order:o.order,working_step_id:o.working_step_id})})}),we.post(route("admin.projects.tasks.reorder"),{tasks:z}).then(s=>{}).catch(s=>{console.error("Error reordering tasks:",s),alert("Failed to save task order. Please try again."),j.reload()})}}},Nt=t=>{const{active:r,over:a}=t;if(String(r.id).startsWith("substep-")&&a&&String(a.id).startsWith("step-")){const i=Number(String(a.id).replace("step-",""));te(i)}else te(null)};return e.jsxs(St,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:[d.name," - Project Steps"]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[m?.length||0," working steps"]})]}),e.jsx(wt,{href:route("admin.projects.bundles.index"),className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Back to Projects"})]}),children:[e.jsx(kt,{title:`${d.name} - Project Steps`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"bg-white shadow-sm sm:rounded-lg p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Project Name"}),e.jsx("div",{className:"flex items-center",children:d.status==="open"?e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 border border-green-200",children:[e.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Project Active"]}):e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-700 border border-gray-300",children:[e.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Project Closed"]})})]}),e.jsx("p",{className:"text-xl font-semibold text-gray-800",children:d.name})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Client Information"}),d.client_name?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Client Name"}),e.jsx("p",{className:"text-base text-gray-900",children:d.client_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Kementrian"}),e.jsx("p",{className:"text-base text-gray-900",children:d.client_kementrian})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Alamat"}),e.jsx("p",{className:"text-base text-gray-900",children:d.client_alamat})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Kode Satker"}),e.jsx("p",{className:"text-base text-gray-900",children:d.client_kode_satker})]})]}):e.jsx("div",{className:"flex items-center justify-center py-8 text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("p",{className:"mt-2 text-sm",children:"No client assigned yet"}),e.jsx("p",{className:"text-xs text-gray-400",children:'Click "Edit Project" to assign a client'})]})})]})]}),e.jsxs("button",{onClick:xt,className:"inline-flex items-center justify-center bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors ml-4",children:[e.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Project"]})]})})}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"bg-white shadow-sm sm:rounded-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Team Members"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage team members and their roles in this project"})]}),e.jsxs("button",{onClick:()=>F(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors inline-flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Team Member"]})]}),N&&N.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.user_name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.user_email}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.user_position||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t.role==="partner"?"bg-purple-100 text-purple-800":t.role==="manager"?"bg-blue-100 text-blue-800":t.role==="supervisor"?"bg-indigo-100 text-indigo-800":t.role==="team leader"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.role})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{onClick:()=>gt(t),className:"text-indigo-600 hover:text-indigo-900 mr-4",children:"Edit Role"}),e.jsx("button",{onClick:()=>jt(t),className:"text-red-600 hover:text-red-900",children:"Remove"})]})]},t.id))})]})}):e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No team members"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding team members to this project."})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"bg-white shadow-sm sm:rounded-lg p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Working Steps Management"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage working steps and tasks for this project template"})]}),e.jsx("button",{onClick:()=>W(!0),className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Add New Working Step"})]})})}),e.jsxs(Tt,{sensors:qe,collisionDetection:_t,onDragStart:vt,onDragOver:Nt,onDragEnd:yt,children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ce,{items:(m||[]).map(t=>`step-${t.id}`),strategy:Te,children:(m||[]).map(t=>e.jsxs("div",{className:"bg-white shadow-sm sm:rounded-lg",children:[e.jsx(zt,{step:t,isCollapsed:D.has(t.id),onToggleCollapse:()=>ke(t.id),children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>{ie(t.id),K("working_step_id",t.id),B(!0)},className:"inline-flex items-center justify-center bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Task"]}),e.jsxs("button",{onClick:()=>ct(t),className:"inline-flex items-center justify-center bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Step"]}),e.jsxs("button",{onClick:()=>nt(t),className:"inline-flex items-center justify-center bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Step"]})]})}),!D.has(t.id)&&e.jsxs("div",{className:"px-4 pb-4",children:[e.jsx("div",{className:"px-2 pb-2 pt-5",children:e.jsx("h5",{className:"text-sm font-medium text-gray-600 mb-3",children:"Tasks:"})}),e.jsx("div",{className:"space-y-1",children:e.jsx(Ce,{items:(t.tasks||[]).map(r=>`substep-${r.id}`),strategy:Te,children:(t.tasks||[]).map(r=>e.jsx(At,{task:r,onEdit:ot,onDelete:a=>lt(r)},r.id))})})]}),D.has(t.id)&&e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-t cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>ke(t.id),children:e.jsxs("p",{className:"text-sm text-gray-500 text-center",children:[t.tasks?t.tasks.length:0," task",(t.tasks?t.tasks.length:0)!==1?"s":""," hidden â€¢ Click to expand"]})}),!D.has(t.id)&&(!t.tasks||t.tasks.length===0)&&e.jsx("div",{className:"px-4 pb-4",children:e.jsx("div",{className:"text-center py-6 text-gray-500 bg-gray-50 rounded-lg mx-2",children:e.jsx("p",{children:'No tasks yet. Click "Add Task" to get started.'})})})]},t.id))}),(!m||m.length===0)&&e.jsx("div",{className:"bg-white shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-12 text-center",children:e.jsxs("div",{className:"text-gray-500",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No working steps"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating your first working step."})]})})})]}),e.jsx(Mt,{children:_?e.jsx("div",{className:"bg-white shadow-lg rounded-lg p-4 opacity-90",children:e.jsxs("h3",{className:"text-lg font-semibold text-primary-700",children:["ðŸ”¹ ",_.name]})}):h?e.jsx("div",{className:"bg-white shadow-lg rounded-lg p-4 opacity-90",children:e.jsx("h4",{className:"font-medium text-gray-900",children:h.name})}):null})]})]})}),Ee&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:()=>{W(!1),ae(),Y("name","")}}),e.jsx("div",{className:"relative bg-white rounded-lg max-w-md w-full",children:e.jsxs("form",{onSubmit:at,className:"p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Working Step"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"step_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Working Step Name"}),e.jsx("input",{type:"text",id:"step_name",value:Fe.name,onChange:t=>Y("name",t.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., Perikatan, Perencanaan, Pelaksanaan",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Note: You can add tasks after creating the working step"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>{W(!1),ae(),Y("name","")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700",children:"Create Working Step"})]})]})})]})}),Le&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:()=>B(!1)}),e.jsx("div",{className:"relative bg-white rounded-lg max-w-md w-full",children:e.jsxs("form",{onSubmit:rt,className:"p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Task"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"task_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Name"}),e.jsx("input",{type:"text",id:"task_name",value:pe.name,onChange:t=>K("name",t.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., Penetapan KAP",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:pe.is_required,onChange:t=>K("is_required",t.target.checked),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Required to unlock next step"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"This task must be completed before the next step can be accessed"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>B(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700",children:"Add Task"})]})]})})]})}),Ie&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Edit Project"}),e.jsxs("form",{onSubmit:ut,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Project Name"}),e.jsx("input",{type:"text",value:b.name,onChange:t=>I("name",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0}),E.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Client"}),e.jsx(V,{options:S.map(t=>({value:t.id,label:t.name,subtitle:`${t.kementrian} - ${t.alamat}`})),value:b.client_id,onChange:t=>I("client_id",t),placeholder:"Select Client"}),E.client_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.client_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Project Year"}),e.jsx(V,{options:Ge,value:b.year,onChange:t=>I("year",t),placeholder:"Select project year..."}),E.year&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.year})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Project Status"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>I("status",b.status==="open"?"closed":"open"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${b.status==="open"?"bg-green-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${b.status==="open"?"translate-x-6":"translate-x-1"}`})}),e.jsx("span",{className:`text-sm font-medium ${b.status==="open"?"text-green-700":"text-gray-700"}`,children:b.status==="open"?e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Open - Project is active"]}):e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Closed - Project is inactive"]})})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:b.status==="open"?"Open projects are accessible to assigned team members":"Closed projects are archived and read-only"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{J(!1),ve()},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:be,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 disabled:opacity-50",children:be?"Updating...":"Update Project"})]})]})]})}),ze&&Q&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Edit Step"}),e.jsxs("form",{onSubmit:mt,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Step Name"}),e.jsx("input",{type:"text",value:Ye.name,onChange:t=>he("name",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0}),fe.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:fe.name})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{G(!1),X(null),je()},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:ge,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 disabled:opacity-50",children:ge?"Updating...":"Update Step"})]})]})]})}),Ae&&Z&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:()=>q(!1)}),e.jsx("div",{className:"relative bg-white rounded-lg max-w-md w-full",children:e.jsxs("form",{onSubmit:pt,className:"p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Edit Task"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"edit_task_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Name"}),e.jsx("input",{type:"text",id:"edit_task_name",value:P.name,onChange:t=>L("name",t.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:P.client_interact,onChange:t=>L("client_interact",t.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Client Interact"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:P.multiple_files,onChange:t=>L("multiple_files",t.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Multiple Files"})]})]}),e.jsxs("label",{className:"flex items-start space-x-2",children:[e.jsx("input",{type:"checkbox",checked:P.is_required,onChange:t=>L("is_required",t.target.checked),className:"mt-1 w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Required to unlock next step"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Must be completed before next step can be accessed"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"workers",className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign Team Members"}),e.jsx(V,{multiple:!0,options:N.map(t=>({value:t.id,label:t.user_name,subtitle:`${t.user_email} - ${t.role}`})),value:P.worker_ids,onChange:t=>L("worker_ids",t),placeholder:"Select team members..."})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>q(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700",children:"Update Task"})]})]})})]})}),Pe&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:()=>F(!1)}),e.jsx("div",{className:"relative bg-white rounded-lg max-w-md w-full",children:e.jsxs("form",{onSubmit:ht,className:"p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add Team Member"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"user_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select User"}),e.jsx(V,{options:A.map(t=>({value:t.id,label:t.name,subtitle:t.email})),value:ye.user_id,onChange:t=>re("user_id",t),placeholder:"Search and select user..."})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-2",children:"Role in Project"}),e.jsxs("select",{id:"role",value:ye.role,onChange:t=>re("role",t.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,children:[e.jsx("option",{value:"member",children:"Member"}),e.jsx("option",{value:"team leader",children:"Team Leader"}),e.jsx("option",{value:"supervisor",children:"Supervisor"}),e.jsx("option",{value:"manager",children:"Manager"}),e.jsx("option",{value:"partner",children:"Partner"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>F(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700",children:"Add Member"})]})]})})]})}),Re&&U&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:()=>$(!1)}),e.jsx("div",{className:"relative bg-white rounded-lg max-w-md w-full",children:e.jsxs("form",{onSubmit:ft,className:"p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Edit Team Member Role"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[e.jsx("strong",{children:"Member:"})," ",U.user_name]}),e.jsx("label",{htmlFor:"edit_role",className:"block text-sm font-medium text-gray-700 mb-2",children:"Role in Project"}),e.jsxs("select",{id:"edit_role",value:et.role,onChange:t=>Ne("role",t.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,children:[e.jsx("option",{value:"member",children:"Member"}),e.jsx("option",{value:"team leader",children:"Team Leader"}),e.jsx("option",{value:"supervisor",children:"Supervisor"}),e.jsx("option",{value:"manager",children:"Manager"}),e.jsx("option",{value:"partner",children:"Partner"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>$(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:"Update Role"})]})]})})]})}),e.jsx(ne,{show:He,onClose:()=>me(!1),onConfirm:it,title:"Delete Working Step",message:`Are you sure you want to delete "${k?.name}" and all its tasks? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",type:"danger"}),e.jsx(ne,{show:We,onClose:()=>xe(!1),onConfirm:dt,title:"Delete Sub-Step",message:`Are you sure you want to delete "${k?.name}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",type:"danger"}),e.jsx(ne,{show:Be,onClose:()=>ue(!1),onConfirm:bt,title:"Remove Team Member",message:`Are you sure you want to remove "${k?.name}" from this project team?`,confirmText:"Remove",cancelText:"Cancel",type:"warning"})]})}export{Ot as default};
