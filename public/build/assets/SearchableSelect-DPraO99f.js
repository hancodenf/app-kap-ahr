import{r as l,j as r}from"./app-B3iphcej.js";function k({options:p,value:t,onChange:o,placeholder:g="Select an option...",disabled:i=!1,className:b="",multiple:c=!1}){const[a,d]=l.useState(!1),[u,m]=l.useState(""),x=l.useRef(null),f=l.useRef(null),y=Array.isArray(t)?t:[t],n=p.filter(e=>y.includes(e.value)),v=p.filter(e=>e.label.toLowerCase().includes(u.toLowerCase())||e.subtitle?.toLowerCase().includes(u.toLowerCase()));l.useEffect(()=>{const e=s=>{x.current&&!x.current.contains(s.target)&&(d(!1),m(""))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),l.useEffect(()=>{a&&f.current&&f.current.focus()},[a]);const j=e=>{if(c){const s=Array.isArray(t)?t:[];s.includes(e)?o(s.filter(h=>h!==e)):o([...s,e])}else o(e),d(!1),m("")},w=(e,s)=>{s.stopPropagation(),Array.isArray(t)&&o(t.filter(h=>h!==e))};return r.jsxs("div",{ref:x,className:`relative ${b}`,children:[r.jsxs("div",{onClick:()=>!i&&d(!a),className:`
                    w-full min-h-[42px] flex items-center justify-between px-3 py-2
                    border border-gray-300 rounded-md shadow-sm
                    bg-white text-sm
                    focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
                    ${i?"bg-gray-100 cursor-not-allowed":"hover:border-gray-400 cursor-pointer"}
                    transition-colors
                `,children:[c&&n.length>0?r.jsx("div",{className:"flex flex-wrap gap-1 flex-1",children:n.map(e=>r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-primary-100 text-primary-800",children:[e.label,!i&&r.jsx("button",{type:"button",onClick:s=>w(e.value,s),className:"ml-1 hover:text-primary-900",children:r.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},e.value))}):r.jsx("span",{className:n.length>0?"text-gray-900":"text-gray-500",children:n.length>0?n[0].label:g}),r.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform flex-shrink-0 ml-2 ${a?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&r.jsxs("div",{className:"absolute z-[9999] mt-1 w-full bg-white border border-gray-300 rounded-md shadow-xl max-h-60 overflow-hidden",children:[r.jsx("div",{className:"p-2 border-b border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("input",{ref:f,type:"text",value:u,onChange:e=>m(e.target.value),placeholder:"Search...",className:"block w-full pl-10 pr-3 py-2 text-sm border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]})}),r.jsx("div",{className:"max-h-48 overflow-y-auto",children:v.length>0?v.map(e=>{const s=y.includes(e.value);return r.jsx("button",{type:"button",onClick:()=>j(e.value),className:`
                                            w-full text-left px-3 py-2 text-sm
                                            hover:bg-primary-50 transition-colors
                                            ${s?"bg-primary-100 text-primary-900":"text-gray-900"}
                                        `,children:r.jsxs("div",{className:"flex items-center",children:[c&&r.jsx("input",{type:"checkbox",checked:s,onChange:()=>{},className:"mr-2 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:e.label}),e.subtitle&&r.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:e.subtitle})]})]})},e.value)}):r.jsx("div",{className:"px-3 py-4 text-sm text-gray-500 text-center",children:"No options found"})})]})]})}export{k as S};
