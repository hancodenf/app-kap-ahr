import{r as a,j as r}from"./app-7Xe7NA_u.js";function k({options:p,value:l,onChange:o,placeholder:b="Select an option...",disabled:c=!1,className:v="",multiple:d=!1}){const[n,u]=a.useState(!1),[x,m]=a.useState(""),f=a.useRef(null),h=a.useRef(null),y=Array.isArray(l)?l:[l],i=p.filter(e=>y.includes(e.value)),g=p.filter(e=>e.label.toLowerCase().includes(x.toLowerCase())||e.subtitle?.toLowerCase().includes(x.toLowerCase()));a.useEffect(()=>{const e=s=>{f.current&&!f.current.contains(s.target)&&(u(!1),m(""))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),a.useEffect(()=>{n&&h.current&&h.current.focus()},[n]);const j=e=>{if(d){const s=Array.isArray(l)?l:[];s.includes(e)?o(s.filter(t=>t!==e)):o([...s,e])}else o(e),u(!1),m("")},w=(e,s)=>{s.stopPropagation(),Array.isArray(l)&&o(l.filter(t=>t!==e))};return r.jsxs("div",{ref:f,className:`relative ${v}`,children:[r.jsxs("div",{onClick:()=>!c&&u(!n),className:`
                    w-full min-h-[42px] flex items-center justify-between px-3 py-2
                    border border-gray-300 rounded-md shadow-sm
                    bg-white text-sm
                    focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
                    ${c?"bg-gray-100 cursor-not-allowed":"hover:border-gray-400 cursor-pointer"}
                    transition-colors
                `,children:[d&&i.length>0?r.jsx("div",{className:"flex flex-wrap gap-1 flex-1",children:i.map(e=>r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-primary-100 text-primary-800",children:[e.label,!c&&r.jsx("button",{type:"button",onClick:s=>w(e.value,s),className:"ml-1 hover:text-primary-900",children:r.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},e.value))}):r.jsx("span",{className:i.length>0?"text-gray-900":"text-gray-500",children:i.length>0?i[0].label:b}),r.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform flex-shrink-0 ml-2 ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&r.jsxs("div",{className:"absolute z-[9999] mt-1 w-full bg-white border border-gray-300 rounded-md shadow-xl max-h-60 overflow-hidden",children:[r.jsx("div",{className:"p-2 border-b border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("input",{ref:h,type:"text",value:x,onChange:e=>m(e.target.value),placeholder:"Search...",className:"block w-full pl-10 pr-3 py-2 text-sm border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]})}),r.jsx("div",{className:"max-h-48 overflow-y-auto",children:g.length>0?g.map(e=>{const s=y.includes(e.value),t=e.isDisabled||!1;return r.jsx("button",{type:"button",onClick:()=>!t&&j(e.value),disabled:t,className:`
                                            w-full text-left px-3 py-2 text-sm
                                            transition-colors
                                            ${t?"bg-gray-100 text-gray-400 cursor-not-allowed opacity-60":"hover:bg-primary-50 cursor-pointer"}
                                            ${s&&!t?"bg-primary-100 text-primary-900":""}
                                            ${!s&&!t?"text-gray-900":""}
                                        `,children:r.jsxs("div",{className:"flex items-center",children:[d&&r.jsx("input",{type:"checkbox",checked:s,disabled:t,onChange:()=>{},className:"mr-2 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:`font-medium ${t?"line-through":""}`,children:[e.label,t&&r.jsx("span",{className:"ml-2 text-xs",children:"(Already used)"})]}),e.subtitle&&r.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:e.subtitle})]})]})},e.value)}):r.jsx("div",{className:"px-3 py-4 text-sm text-gray-500 text-center",children:"No options found"})})]})]})}export{k as S};
