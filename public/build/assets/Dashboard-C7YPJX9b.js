import{j as e,H as u,L as l}from"./app-CAi4FfDt.js";import{A as y}from"./AuthenticatedLayout-DW5Gz32k.js";import"./ApplicationLogo-gly45ed8.js";function w({user:n,statistics:r,recentProjects:o,myActiveTasks:d,taskTrend:x,upcomingDeadlines:c}){const m=s=>new Date(s).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),p=s=>new Date(s).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),a=s=>{const t={open:{bg:"bg-green-100",text:"text-green-800",label:"Open"},closed:{bg:"bg-gray-100",text:"text-gray-800",label:"Closed"},pending:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Pending"},in_progress:{bg:"bg-blue-100",text:"text-blue-800",label:"In Progress"},completed:{bg:"bg-green-100",text:"text-green-800",label:"Completed"},Draft:{bg:"bg-gray-100",text:"text-gray-800",label:"Draft"},Submitted:{bg:"bg-blue-100",text:"text-blue-800",label:"Submitted"}}[s]||{bg:"bg-gray-100",text:"text-gray-800",label:s};return e.jsx("span",{className:`inline-flex px-2 py-0.5 text-xs font-semibold rounded-full ${t.bg} ${t.text}`,children:t.label})},b=s=>{const t={partner:{bg:"bg-purple-100",text:"text-purple-800",label:"Partner"},manager:{bg:"bg-blue-100",text:"text-blue-800",label:"Manager"},supervisor:{bg:"bg-cyan-100",text:"text-cyan-800",label:"Supervisor"},"team leader":{bg:"bg-orange-100",text:"text-orange-800",label:"Team Leader"},member:{bg:"bg-gray-100",text:"text-gray-800",label:"Member"}}[s]||{bg:"bg-gray-100",text:"text-gray-800",label:s};return e.jsx("span",{className:`inline-flex px-2 py-0.5 text-xs font-semibold rounded-full ${t.bg} ${t.text}`,children:t.label})},h=r.tasks.total>0?Math.round(r.tasks.completed/r.tasks.total*100):0,j=r.projects.total>0?Math.round(r.projects.active/r.projects.total*100):0,g=Math.max(...x.map(s=>s.count),1);return e.jsxs(y,{header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Dashboard"}),e.jsx("span",{className:"text-sm text-gray-600",children:new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),children:[e.jsx(u,{title:"Dashboard"}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8 space-y-6",children:[e.jsx("div",{className:"overflow-hidden bg-gradient-to-r from-primary-600 to-primary-700 shadow-xl rounded-xl",children:e.jsx("div",{className:"p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-bold mb-2",children:["Welcome back, ",n.name,"! ðŸ‘‹"]}),e.jsxs("p",{className:"text-primary-100 text-sm",children:[n.position," â€¢ ",n.role.description]})]}),e.jsxs("div",{className:"hidden md:flex gap-4",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold",children:r.projects.active}),e.jsx("p",{className:"text-xs text-primary-100 mt-1",children:"Active Projects"})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold",children:r.tasks.pending+r.tasks.in_progress}),e.jsx("p",{className:"text-xs text-primary-100 mt-1",children:"Pending Tasks"})]})})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border-l-4 border-primary-600 p-5 hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[j,"% active"]})]}),e.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:r.projects.total}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"My Projects"}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-green-600 font-medium",children:["Active: ",r.projects.active]}),e.jsxs("span",{className:"text-gray-500",children:["Closed: ",r.projects.closed]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border-l-4 border-blue-500 p-5 hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[h,"% done"]})]}),e.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:r.tasks.total}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Total Tasks"}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${h}%`}})})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border-l-4 border-green-500 p-5 hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"text-xs text-gray-500",children:"Completed"})]}),e.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:r.tasks.completed}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Completed Tasks"}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100 text-xs text-gray-500",children:e.jsxs("span",{children:[r.tasks.in_progress," in progress"]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border-l-4 border-orange-500 p-5 hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"text-xs text-gray-500",children:"To Do"})]}),e.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:r.tasks.pending}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Pending Tasks"}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100 text-xs text-gray-500",children:e.jsx("span",{children:"Awaiting action"})})]})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 hover:shadow-xl transition-shadow",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Task Completion Trend (Last 7 Days)"}),e.jsx("div",{className:"flex items-end justify-between h-48 gap-2",children:x.map((s,i)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[e.jsx("div",{className:"w-full flex items-end justify-center h-40 mb-2",children:e.jsx("div",{className:"w-full bg-gradient-to-t from-primary-600 to-primary-400 hover:from-primary-700 hover:to-primary-500 rounded-t transition-all relative group",style:{height:`${g>0?s.count/g*100:0}%`,minHeight:s.count>0?"8px":"0px"},children:e.jsxs("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:[s.count," tasks"]})})}),e.jsx("span",{className:"text-xs text-gray-600",children:m(s.date).split(" ").slice(0,2).join(" ")})]},i))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Projects"}),e.jsx(l,{href:route("company.projects.index"),className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"View all â†’"})]}),e.jsx("div",{className:"space-y-3",children:o.length>0?o.map(s=>e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 hover:bg-primary-50 hover:border-primary-300 transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.client_name})]}),a(s.status)]}),e.jsxs("div",{className:"flex items-center justify-between text-xs mt-2",children:[b(s.my_role),e.jsx("span",{className:"text-gray-500",children:m(s.created_at)})]})]},s.id)):e.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No recent projects"})})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Active Tasks"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[d.length," tasks"]})]}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:d.length>0?d.map(s=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-primary-50 hover:border-primary-300 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:s.project_name}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:s.working_step_name})]}),s.is_required&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:"Required"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a(s.completion_status),a(s.status)]})]},s.id)):e.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No active tasks"})})]})]}),c.length>0&&e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 hover:shadow-xl transition-shadow",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upcoming Deadlines"}),e.jsx("div",{className:"space-y-3",children:c.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-orange-50 border border-orange-200 rounded-lg hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:s.task_name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.project_name})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-orange-700",children:p(s.deadline)}),a(s.status)]})]},s.task_id))})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 hover:shadow-xl transition-shadow",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[e.jsxs(l,{href:route("company.projects.index"),className:"flex flex-col items-center p-4 bg-primary-50 rounded-lg border-2 border-primary-100 hover:border-primary-600 hover:bg-primary-100 transition-all group",children:[e.jsx("div",{className:"p-3 bg-primary-100 rounded-full group-hover:bg-primary-200 transition-colors mb-2",children:e.jsx("svg",{className:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("span",{className:"text-sm font-medium text-primary-900",children:"My Projects"})]}),e.jsxs(l,{href:route("company.projects.index"),className:"flex flex-col items-center p-4 bg-primary-50 rounded-lg border-2 border-primary-100 hover:border-primary-600 hover:bg-primary-100 transition-all group",children:[e.jsx("div",{className:"p-3 bg-primary-100 rounded-full group-hover:bg-primary-200 transition-colors mb-2",children:e.jsx("svg",{className:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("span",{className:"text-sm font-medium text-primary-900",children:"View Tasks"})]}),e.jsxs(l,{href:route("company.projects.index"),className:"flex flex-col items-center p-4 bg-green-50 rounded-lg border-2 border-green-100 hover:border-green-600 hover:bg-green-100 transition-all group",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-full group-hover:bg-green-200 transition-colors mb-2",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Completed"})]})]})]})]})})]})}export{w as default};
