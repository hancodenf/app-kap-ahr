import{j as e,H as j,L as g}from"./app-DT5OD57V.js";import{A as u}from"./AuthenticatedLayout-BuBdTg9C.js";import"./ApplicationLogo-4jr1g1aB.js";function y({user:r,statistics:t,recentProjects:n,tasksRequiringAction:o,taskTrend:d,recentActivities:i}){const c=s=>new Date(s).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),p=s=>new Date(s).toLocaleString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),x=s=>{const a={open:{bg:"bg-green-100",text:"text-green-800"},closed:{bg:"bg-gray-100",text:"text-gray-800"},completed:{bg:"bg-green-100",text:"text-green-800"},in_progress:{bg:"bg-blue-100",text:"text-blue-800"},pending:{bg:"bg-yellow-100",text:"text-yellow-800"}}[s.toLowerCase()]||{bg:"bg-gray-100",text:"text-gray-800"};return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.bg} ${a.text}`,children:s})},m=t.tasks.total>0?Math.round(t.tasks.completed/t.tasks.total*100):0;t.projects.total>0&&Math.round(t.projects.open/t.projects.total*100);const h=Math.max(...d.map(s=>s.count),1);return e.jsxs(u,{header:e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:e.jsx("h2",{className:"text-lg sm:text-xl font-semibold leading-tight text-gray-800",children:"Client Dashboard"})}),children:[e.jsx(j,{title:"Client Dashboard"}),e.jsx("div",{className:"py-4 sm:py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-xl shadow-lg p-6 text-white",children:[e.jsxs("h1",{className:"text-2xl font-bold mb-2",children:["Welcome back, ",r.name,"!"]}),r.client&&e.jsxs("div",{className:"space-y-1 opacity-90",children:[e.jsxs("p",{className:"text-sm",children:["Organization: ",e.jsx("span",{className:"font-semibold",children:r.client.name})]}),e.jsxs("p",{className:"text-sm",children:["Ministry: ",r.client.kementrian]}),e.jsxs("p",{className:"text-sm",children:["Satker Code: ",r.client.kode_satker]})]}),e.jsxs("div",{className:"mt-4 flex gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"opacity-80",children:"Active Projects: "}),e.jsx("span",{className:"font-bold text-lg",children:t.projects.open})]}),e.jsxs("div",{children:[e.jsx("span",{className:"opacity-80",children:"Completion Rate: "}),e.jsxs("span",{className:"font-bold text-lg",children:[m,"%"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow-lg rounded-xl p-6 border-l-4 border-primary-600 hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Projects"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:t.projects.total}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[t.projects.open," active"]})]}),e.jsx("div",{className:"p-3 bg-primary-100 rounded-lg",children:e.jsx("svg",{className:"h-8 w-8 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-lg rounded-xl p-6 border-l-4 border-blue-500 hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tasks"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:t.tasks.total}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All project tasks"})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx("svg",{className:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-lg rounded-xl p-6 border-l-4 border-green-500 hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:t.tasks.completed}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[m,"% complete"]})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-lg rounded-xl p-6 border-l-4 border-yellow-500 hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:t.tasks.in_progress}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Active tasks"})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx("svg",{className:"h-8 w-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-lg rounded-xl p-6 border-l-4 border-indigo-500 hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Documents"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:t.documents.total_documents}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[t.documents.client_documents," from you"]})]}),e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx("svg",{className:"h-8 w-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 hover:shadow-xl transition-shadow",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Task Completion Trend (Last 7 Days)"}),e.jsx("div",{className:"flex items-end justify-between h-48 gap-2",children:d.map((s,l)=>{const a=h>0?s.count/h*100:0;return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[e.jsxs("div",{className:"w-full bg-gray-200 rounded-t relative group",style:{height:`${a}%`,minHeight:a>0?"20px":"2px"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary-600 to-primary-400 rounded-t"}),e.jsxs("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-2 py-1 rounded text-xs opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:[s.count," tasks"]})]}),e.jsx("div",{className:"text-xs text-gray-600 text-center",children:new Date(s.date).toLocaleDateString("id-ID",{day:"numeric",month:"short"})})]},l)})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Projects"}),n.length>0&&e.jsx(g,{href:"/client/projects",className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"View All →"})]}),n.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),e.jsx("p",{className:"text-sm",children:"No projects yet"})]}):e.jsx("div",{className:"space-y-3",children:n.map(s=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-primary-50 hover:border-primary-300 transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:s.name}),x(s.status)]}),e.jsxs("div",{className:"flex gap-4 text-xs text-gray-600",children:[e.jsxs("span",{children:[s.working_steps_count," steps"]}),e.jsxs("span",{children:[s.tasks_count," tasks"]}),e.jsx("span",{className:"text-gray-400",children:"•"}),e.jsx("span",{children:c(s.created_at)})]})]},s.id))})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 hover:shadow-xl transition-shadow",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tasks Requiring Your Action"}),o.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-sm",children:"No pending actions"})]}):e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:o.map(s=>e.jsxs("div",{className:"border-l-4 border-orange-500 bg-orange-50 rounded-r-lg p-4 hover:bg-orange-100 transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:s.name}),x(s.completion_status)]}),e.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[e.jsxs("p",{children:["Project: ",s.project_name]}),e.jsxs("p",{children:["Step: ",s.working_step_name]}),e.jsx("p",{className:"text-gray-400",children:c(s.created_at)})]})]},s.id))})]})]}),i.length>0&&e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 hover:shadow-xl transition-shadow",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activities"}),e.jsx("div",{className:"space-y-3",children:i.map(s=>e.jsxs("div",{className:"flex items-start gap-3 pb-3 border-b border-gray-100 last:border-0",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx("div",{className:"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"h-4 w-4 text-primary-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm text-gray-900",children:[e.jsx("span",{className:"font-medium",children:s.user_name})," ",s.action," ",e.jsx("span",{className:"font-medium",children:s.target_name})]}),s.description&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s.description}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:p(s.created_at)})]})]},s.id))})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 hover:shadow-xl transition-shadow",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs(g,{href:"/client/projects",className:"flex items-center gap-3 p-4 border-2 border-gray-200 rounded-lg hover:border-primary-600 hover:bg-primary-50 transition-colors group",children:[e.jsx("div",{className:"p-2 bg-primary-100 group-hover:bg-primary-200 rounded-lg",children:e.jsx("svg",{className:"h-6 w-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"View Projects"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Browse all projects"})]})]}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-3 p-4 border-2 border-gray-200 rounded-lg hover:border-green-500 hover:bg-green-50 transition-colors group",children:[e.jsx("div",{className:"p-2 bg-green-100 group-hover:bg-green-200 rounded-lg",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Refresh Data"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Update statistics"})]})]}),e.jsxs("a",{href:"#",className:"flex items-center gap-3 p-4 border-2 border-gray-200 rounded-lg hover:border-indigo-500 hover:bg-indigo-50 transition-colors group",children:[e.jsx("div",{className:"p-2 bg-indigo-100 group-hover:bg-indigo-200 rounded-lg",children:e.jsx("svg",{className:"h-6 w-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"View Documents"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Access all files"})]})]})]})]})]})})]})}export{y as default};
